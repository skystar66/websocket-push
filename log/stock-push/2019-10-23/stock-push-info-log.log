2019-10-23 15:58:56.597 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 94054 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 15:58:56.600 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 15:58:56.962 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 15:58:58.825 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 15:58:58.826 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 15:58:58.944 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 15:58:59.270 [main] INFO  org.apache.catalina.core.StandardService - Stopping service Tomcat
2019-10-23 15:59:46.259 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 94082 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 15:59:46.270 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 15:59:46.610 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 15:59:48.707 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 15:59:48.708 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 15:59:48.840 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 15:59:49.199 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 15:59:49.348 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：-1 个
2019-10-23 15:59:49.349 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 15:59:49.351 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@692e028d
2019-10-23 15:59:50.912 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 15:59:50.923 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 15:59:50.963 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 15:59:51.014 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 5.822 seconds (JVM running for 8.01)
2019-10-23 16:06:20.992 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 94309 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 16:06:21.016 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 16:06:21.537 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 16:06:23.752 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 16:06:23.753 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 16:06:23.877 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 16:06:24.221 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 16:06:24.337 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 16:06:24.338 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:24.382 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:06:24.888 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:06:24.941 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:25.389 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:25.389 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:06:25.395 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:25.898 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:25.899 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:06:25.918 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:26.402 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:26.403 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:06:26.423 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:26.906 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:26.907 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:06:26.917 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:06:27.411 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 16:06:27.413 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@64f1fd08
2019-10-23 16:06:28.797 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 16:06:28.814 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 16:06:28.864 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 16:06:28.900 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 8.973 seconds (JVM running for 10.623)
2019-10-23 16:07:24.044 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@259fb6f, lastConnTime=Wed Oct 23 16:06:25 CST 2019, lastActiveTime=Wed Oct 23 16:06:24 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@c9e0554)
2019-10-23 16:07:24.056 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@1202b60c, lastConnTime=Wed Oct 23 16:06:25 CST 2019, lastActiveTime=Wed Oct 23 16:06:25 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@51af5a47)
2019-10-23 16:07:24.058 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@4a3a03c1, lastConnTime=Wed Oct 23 16:06:26 CST 2019, lastActiveTime=Wed Oct 23 16:06:25 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@ea60ba8)
2019-10-23 16:07:24.058 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@9937ea6, lastConnTime=Wed Oct 23 16:06:26 CST 2019, lastActiveTime=Wed Oct 23 16:06:26 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@224560b1)
2019-10-23 16:07:24.059 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@38fb5b33, lastConnTime=Wed Oct 23 16:06:27 CST 2019, lastActiveTime=Wed Oct 23 16:06:26 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@6beeccf)
2019-10-23 16:07:24.075 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 16:07:24.076 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 16:07:24.081 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 16:07:24.087 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 16:07:24.090 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 16:58:26.558 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 95842 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 16:58:26.563 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 16:58:27.402 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 16:58:30.152 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 16:58:30.154 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 16:58:30.276 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 16:58:30.589 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 16:58:30.731 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 16:58:30.733 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:30.758 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:58:31.052 [WebSocketConnectReadThread-37] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:31.262 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:31.263 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:58:31.267 [WebSocketConnectReadThread-41] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:31.766 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:31.767 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:58:31.779 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:32.271 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:32.271 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:58:32.278 [WebSocketConnectReadThread-49] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:32.776 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:32.777 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 16:58:32.782 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 16:58:33.279 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 16:58:33.281 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@42b28ff1
2019-10-23 16:58:34.516 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 16:58:34.528 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 16:58:34.571 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 16:58:34.608 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 9.61 seconds (JVM running for 11.493)
2019-10-23 17:05:51.306 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@7233643, lastConnTime=Wed Oct 23 16:58:31 CST 2019, lastActiveTime=Wed Oct 23 16:58:30 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@9e4c8d7)
2019-10-23 17:05:51.329 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@4de1fe93, lastConnTime=Wed Oct 23 16:58:31 CST 2019, lastActiveTime=Wed Oct 23 16:58:31 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@6979dfcc)
2019-10-23 17:05:51.329 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@353a59cd, lastConnTime=Wed Oct 23 16:58:32 CST 2019, lastActiveTime=Wed Oct 23 16:58:31 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@2cb861ec)
2019-10-23 17:05:51.333 [WebSocketConnectReadThread-37] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:05:51.334 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:05:51.332 [WebSocketConnectReadThread-41] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:05:51.330 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@6eef078e, lastConnTime=Wed Oct 23 16:58:32 CST 2019, lastActiveTime=Wed Oct 23 16:58:32 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@494f2220)
2019-10-23 17:05:51.335 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@2e5cfef5, lastConnTime=Wed Oct 23 16:58:33 CST 2019, lastActiveTime=Wed Oct 23 16:58:32 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@41844dd3)
2019-10-23 17:05:51.336 [WebSocketConnectReadThread-49] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:05:51.339 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:06:17.923 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 96096 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:06:17.948 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:06:18.671 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:06:20.843 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:06:20.844 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:06:20.982 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:06:21.314 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 17:06:21.441 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 17:06:21.444 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:21.464 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:06:21.511 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:21.968 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:21.968 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:06:21.973 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:22.471 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:22.472 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:06:22.479 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:22.976 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:22.977 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:06:22.985 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:23.481 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:23.482 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:06:23.494 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:06:23.983 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 17:06:23.985 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@13275d8
2019-10-23 17:06:25.127 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 17:06:25.141 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 17:06:25.184 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:06:25.217 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 8.181 seconds (JVM running for 10.879)
2019-10-23 17:07:07.028 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 96126 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:07:07.033 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:07:08.084 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:07:11.501 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:07:11.503 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:07:11.786 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:07:13.016 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:07:13.204 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 17:07:13.238 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 17:07:14.748 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 17:07:14.851 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 17:07:14.946 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:07:15.013 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 9.72 seconds (JVM running for 13.144)
2019-10-23 17:10:50.118 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:10:51.004 [http-nio-9947-exec-5] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 17:10:51.378 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":""}
2019-10-23 17:10:51.384 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"0"}
2019-10-23 17:10:51.386 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"1"}
2019-10-23 17:10:51.391 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"2"}
2019-10-23 17:10:51.392 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"3"}
2019-10-23 17:10:51.394 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"4"}
2019-10-23 17:10:51.394 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"5"}
2019-10-23 17:10:51.395 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"6"}
2019-10-23 17:10:51.396 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"7"}
2019-10-23 17:10:51.396 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"8"}
2019-10-23 17:10:51.397 [http-nio-9947-exec-5] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":133,"EptFlag":0,"MsgBody":"9"}
2019-10-23 17:10:51.428 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.428 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.428 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.437 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.438 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.437 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.439 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.440 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.442 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.442 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:10:51.443 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:Send a message from server. 
2019-10-23 17:11:39.785 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@12573e91, lastConnTime=Wed Oct 23 17:06:21 CST 2019, lastActiveTime=Wed Oct 23 17:10:51 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@1c90c2ab)
2019-10-23 17:11:39.805 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@654f73bb, lastConnTime=Wed Oct 23 17:06:22 CST 2019, lastActiveTime=Wed Oct 23 17:10:51 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5f70151a)
2019-10-23 17:11:39.809 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@15dc8f4f, lastConnTime=Wed Oct 23 17:06:22 CST 2019, lastActiveTime=Wed Oct 23 17:10:51 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@39cc6ee4)
2019-10-23 17:11:39.814 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:11:39.816 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:11:39.826 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@270000cd, lastConnTime=Wed Oct 23 17:06:23 CST 2019, lastActiveTime=Wed Oct 23 17:06:22 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@788709f2)
2019-10-23 17:11:39.827 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:11:39.828 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@950475a, lastConnTime=Wed Oct 23 17:06:23 CST 2019, lastActiveTime=Wed Oct 23 17:06:23 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5331a3da)
2019-10-23 17:11:39.830 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:11:39.835 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:11:39.835 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:11:39.837 [WebSocketConnectReadThread-84] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:11:39.952 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 17:11:39.959 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 17:16:18.590 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 96419 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:16:18.598 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:16:19.170 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:16:21.440 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:16:21.442 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:16:21.577 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:16:21.919 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 17:16:22.055 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 17:16:22.057 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:22.069 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:16:22.329 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:22.571 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:22.573 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:16:22.580 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:23.079 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:23.080 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:16:23.093 [WebSocketConnectReadThread-42] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:23.593 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:23.596 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:16:23.646 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:24.101 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:24.102 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:16:24.109 [WebSocketConnectReadThread-50] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:16:24.604 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 17:16:24.611 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@6b69761b
2019-10-23 17:16:25.909 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 17:16:25.923 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 17:16:25.961 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:16:25.997 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 8.229 seconds (JVM running for 10.121)
2019-10-23 17:16:40.514 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 96431 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:16:40.526 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:16:42.038 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:16:45.724 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:16:45.726 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:16:45.978 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:16:47.133 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:16:47.427 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 17:16:47.434 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 17:16:49.130 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 17:16:49.153 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 17:16:49.202 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:16:49.244 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 10.424 seconds (JVM running for 12.488)
2019-10-23 17:17:00.748 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:17:01.220 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 17:17:01.517 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":""}
2019-10-23 17:17:01.526 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"0"}
2019-10-23 17:17:01.548 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"1"}
2019-10-23 17:17:01.549 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"2"}
2019-10-23 17:17:01.551 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"3"}
2019-10-23 17:17:01.551 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"4"}
2019-10-23 17:17:01.552 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"5"}
2019-10-23 17:17:01.553 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"6"}
2019-10-23 17:17:01.553 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"7"}
2019-10-23 17:17:01.555 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"8"}
2019-10-23 17:17:01.555 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":133,"EptFlag":0,"MsgBody":"9"}
2019-10-23 17:18:10.192 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@249e4340, lastConnTime=Wed Oct 23 17:16:22 CST 2019, lastActiveTime=Wed Oct 23 17:17:01 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@2a59b9a3)
2019-10-23 17:18:10.205 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@5bce598, lastConnTime=Wed Oct 23 17:16:23 CST 2019, lastActiveTime=Wed Oct 23 17:17:01 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@75d329bf)
2019-10-23 17:18:10.207 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@5e79f1d1, lastConnTime=Wed Oct 23 17:16:23 CST 2019, lastActiveTime=Wed Oct 23 17:17:01 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@f05333d)
2019-10-23 17:18:10.207 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@6df79760, lastConnTime=Wed Oct 23 17:16:24 CST 2019, lastActiveTime=Wed Oct 23 17:16:23 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@105c5b0)
2019-10-23 17:18:10.209 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:18:10.208 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@10e35b38, lastConnTime=Wed Oct 23 17:16:24 CST 2019, lastActiveTime=Wed Oct 23 17:16:24 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@36d90ec2)
2019-10-23 17:18:10.215 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:18:10.216 [WebSocketConnectReadThread-42] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:18:10.220 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:18:10.220 [WebSocketConnectReadThread-50] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:18:10.232 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:18:10.256 [WebSocketConnectReadThread-83] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:10.327 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 17:18:10.334 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 17:18:23.730 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 96486 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:18:23.736 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:18:24.128 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:18:25.950 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:18:25.952 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:18:26.058 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:18:26.348 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 17:18:26.466 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 17:18:26.468 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:26.481 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:18:26.499 [WebSocketConnectReadThread-34] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:26.983 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:26.984 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:18:26.989 [WebSocketConnectReadThread-38] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:27.488 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:27.489 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:18:27.500 [WebSocketConnectReadThread-42] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:27.990 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:27.990 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:18:27.996 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:28.491 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:28.492 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:18:28.503 [WebSocketConnectReadThread-50] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:18:28.996 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 17:18:28.999 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@19ee1ae6
2019-10-23 17:18:30.181 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 17:18:30.205 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 17:18:30.238 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:18:30.293 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 7.71 seconds (JVM running for 9.708)
2019-10-23 17:18:38.502 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 96496 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:18:38.508 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:18:40.032 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:18:42.861 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:18:42.863 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:18:43.127 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:18:43.970 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:18:44.130 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 17:18:44.165 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 17:18:45.680 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 17:18:45.710 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 17:18:45.760 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:18:45.801 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 8.765 seconds (JVM running for 10.434)
2019-10-23 17:18:53.910 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:18:54.299 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 17:18:54.546 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":""}
2019-10-23 17:18:54.554 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"0"}
2019-10-23 17:18:54.555 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"1"}
2019-10-23 17:18:54.556 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"2"}
2019-10-23 17:18:54.558 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"3"}
2019-10-23 17:18:54.558 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"4"}
2019-10-23 17:18:54.558 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"5"}
2019-10-23 17:18:54.559 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"6"}
2019-10-23 17:18:54.559 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"7"}
2019-10-23 17:18:54.563 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"8"}
2019-10-23 17:18:54.564 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":133,"EptFlag":0,"MsgBody":"9"}
2019-10-23 17:19:56.477 [WebSocketConnectReadThread-50] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:19:56.478 [WebSocketConnectReadThread-38] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:19:56.479 [WebSocketConnectReadThread-42] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:19:56.480 [WebSocketConnectReadThread-34] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:19:56.477 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:19:56.484 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:19:56.507 [WebSocketConnectReadThread-81] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=true,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:19:56.987 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:19:57.490 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:19:57.993 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:19:58.497 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:19:59.002 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:19:59.505 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:00.008 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:00.508 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:01.015 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:01.515 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:02.018 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:02.026 [WebSocketConnectReadThread-83] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=Connection refused (Connection refused),b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:20:02.519 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:03.022 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:03.523 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:04.027 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:04.531 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:05.036 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:05.539 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:06.043 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:06.547 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:07.052 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:07.555 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:07.557 [WebSocketConnectReadThread-84] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=Connection refused (Connection refused),b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:20:08.058 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:08.558 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:09.062 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:09.565 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:10.069 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:10.574 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:11.077 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:11.579 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:12.083 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:12.588 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:13.093 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:13.364 [WebSocketConnectReadThread-85] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:20:13.597 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:13.602 [WebSocketConnectReadThread-88] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:20:14.099 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:14.104 [WebSocketConnectReadThread-91] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:20:14.603 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:14.607 [WebSocketConnectReadThread-94] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:20:15.108 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:20:15.114 [WebSocketConnectReadThread-97] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:20:26.250 [http-nio-9947-exec-4] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 17:21:03.836 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@2aad4e0c, lastConnTime=Wed Oct 23 17:18:26 CST 2019, lastActiveTime=Wed Oct 23 17:18:54 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@246aa529)
2019-10-23 17:21:03.841 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@2055257c, lastConnTime=Wed Oct 23 17:18:27 CST 2019, lastActiveTime=Wed Oct 23 17:18:54 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@6557af12)
2019-10-23 17:21:03.841 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@254a509a, lastConnTime=Wed Oct 23 17:18:27 CST 2019, lastActiveTime=Wed Oct 23 17:18:54 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5478eaf7)
2019-10-23 17:21:03.841 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@5d8f4bc1, lastConnTime=Wed Oct 23 17:18:28 CST 2019, lastActiveTime=Wed Oct 23 17:18:27 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@578505d)
2019-10-23 17:21:03.842 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@72410ee8, lastConnTime=Wed Oct 23 17:18:28 CST 2019, lastActiveTime=Wed Oct 23 17:18:28 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@617d7d05)
2019-10-23 17:21:03.890 [WebSocketConnectReadThread-97] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:21:03.890 [WebSocketConnectReadThread-85] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:21:03.890 [WebSocketConnectReadThread-94] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:21:03.891 [WebSocketConnectReadThread-88] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:21:03.892 [WebSocketConnectReadThread-91] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:21:03.896 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:21:03.925 [WebSocketConnectReadThread-101] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:03.953 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 17:21:03.971 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 17:21:26.379 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 96592 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:21:26.387 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:21:26.759 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:21:29.306 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:21:29.308 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:21:29.469 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:21:30.107 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 17:21:30.272 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 17:21:30.273 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:30.284 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:21:30.304 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:30.789 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:30.790 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:21:30.795 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:31.294 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:31.295 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:21:31.308 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:31.796 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:31.797 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:21:31.811 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:32.299 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:32.301 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:21:32.307 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:21:32.805 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 17:21:32.807 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@3f049056
2019-10-23 17:21:34.133 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 17:21:34.159 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 17:21:34.245 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:21:34.315 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 8.855 seconds (JVM running for 10.434)
2019-10-23 17:21:40.473 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 96601 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:21:40.482 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:21:41.788 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:21:44.308 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:21:44.310 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:21:44.562 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:21:45.316 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:21:45.453 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 17:21:45.464 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 17:21:47.571 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 17:21:47.594 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 17:21:47.669 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:21:47.744 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 8.869 seconds (JVM running for 10.635)
2019-10-23 17:21:51.906 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:21:52.376 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 17:21:52.523 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":""}
2019-10-23 17:21:52.547 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"0"}
2019-10-23 17:21:52.559 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"1"}
2019-10-23 17:21:52.564 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"2"}
2019-10-23 17:21:52.565 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"3"}
2019-10-23 17:21:52.566 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"4"}
2019-10-23 17:21:52.566 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"5"}
2019-10-23 17:21:52.567 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"6"}
2019-10-23 17:21:52.570 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"7"}
2019-10-23 17:21:52.571 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"8"}
2019-10-23 17:21:52.572 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":133,"EptFlag":0,"MsgBody":"9"}
2019-10-23 17:21:52.929 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"1"}
2019-10-23 17:21:52.932 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":""}
2019-10-23 17:21:52.932 [WebSocketConnectReadThread-35] INFO  com.socket.server.template.impl.DefaultTemplete - >>>>>> 订阅成功，收到返回结果： WsResponse(requestId=123, error=null, status=SUCCESS, result={"SeqNum":123,"EptFlag":0,"MsgBody":""})
2019-10-23 17:21:52.934 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"0"}
2019-10-23 17:21:52.938 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"4"}
2019-10-23 17:21:52.939 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"7"}
2019-10-23 17:21:52.939 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"3"}
2019-10-23 17:21:52.943 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"6"}
2019-10-23 17:21:52.949 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":133,"EptFlag":0,"MsgBody":"9"}
2019-10-23 17:21:52.951 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"2"}
2019-10-23 17:21:52.958 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"5"}
2019-10-23 17:21:52.960 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"8"}
2019-10-23 17:23:53.134 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:23:53.135 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:23:53.135 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:23:53.134 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:23:53.135 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:23:53.145 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:23:53.170 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@7cf21cc4, lastConnTime=Wed Oct 23 17:21:30 CST 2019, lastActiveTime=Wed Oct 23 17:21:52 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@7235ed2a)
2019-10-23 17:23:53.171 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@760a77b4, lastConnTime=Wed Oct 23 17:21:31 CST 2019, lastActiveTime=Wed Oct 23 17:21:52 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@3308e711)
2019-10-23 17:23:53.172 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@5ff0d988, lastConnTime=Wed Oct 23 17:21:31 CST 2019, lastActiveTime=Wed Oct 23 17:21:52 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@2f133e1)
2019-10-23 17:23:53.172 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@27e353dc, lastConnTime=Wed Oct 23 17:21:32 CST 2019, lastActiveTime=Wed Oct 23 17:21:31 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5327185e)
2019-10-23 17:23:53.172 [Thread-38] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@ac2b72b, lastConnTime=Wed Oct 23 17:21:32 CST 2019, lastActiveTime=Wed Oct 23 17:21:32 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@127f3a9)
2019-10-23 17:23:53.180 [WebSocketConnectReadThread-83] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:23:53.250 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 17:23:53.272 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 17:29:43.035 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 96865 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:29:43.046 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:29:43.555 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:29:45.410 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:29:45.412 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:29:45.527 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:29:45.821 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 17:29:45.939 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 17:29:45.940 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:45.955 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:29:46.229 [WebSocketConnectReadThread-34] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:46.457 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:46.459 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:29:46.463 [WebSocketConnectReadThread-38] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:46.962 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:46.963 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:29:46.973 [WebSocketConnectReadThread-42] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:47.466 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:47.466 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:29:47.471 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:47.967 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:47.967 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:29:47.976 [WebSocketConnectReadThread-50] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:29:48.471 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 17:29:48.473 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@3c0bbc9f
2019-10-23 17:29:49.508 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 17:29:49.533 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 17:29:49.584 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:29:49.630 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 7.75 seconds (JVM running for 9.504)
2019-10-23 17:30:28.486 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 96891 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:30:28.492 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:30:29.827 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:30:32.665 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:30:32.687 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:30:33.028 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:30:33.937 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:30:34.089 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 17:30:34.105 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 17:30:35.785 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 17:30:35.818 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 17:30:35.881 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:30:35.948 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 9.135 seconds (JVM running for 11.114)
2019-10-23 17:30:47.509 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:30:48.027 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 17:30:48.334 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 17:30:48.426 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 17:30:48.431 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 17:30:48.432 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 17:30:48.438 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 17:30:48.439 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 17:30:48.440 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 17:30:48.443 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 17:30:48.443 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 17:30:48.444 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 17:30:48.966 [WebSocketConnectReadThread-42] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 17:30:48.966 [WebSocketConnectReadThread-38] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 17:30:48.973 [WebSocketConnectReadThread-34] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 17:30:48.974 [WebSocketConnectReadThread-42] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 17:30:48.974 [WebSocketConnectReadThread-38] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 17:30:48.975 [WebSocketConnectReadThread-42] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 17:30:48.975 [WebSocketConnectReadThread-38] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 17:30:48.993 [WebSocketConnectReadThread-34] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 17:30:49.031 [WebSocketConnectReadThread-34] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 17:30:49.037 [WebSocketConnectReadThread-34] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 17:31:59.107 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@6a24ca66, lastConnTime=Wed Oct 23 17:29:46 CST 2019, lastActiveTime=Wed Oct 23 17:30:48 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@64e32952)
2019-10-23 17:31:59.121 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@102290c, lastConnTime=Wed Oct 23 17:29:46 CST 2019, lastActiveTime=Wed Oct 23 17:30:48 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@18964b4a)
2019-10-23 17:31:59.121 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@ae498f0, lastConnTime=Wed Oct 23 17:29:47 CST 2019, lastActiveTime=Wed Oct 23 17:30:48 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@41bf6566)
2019-10-23 17:31:59.122 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@51e56e14, lastConnTime=Wed Oct 23 17:29:47 CST 2019, lastActiveTime=Wed Oct 23 17:29:47 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@7b83b379)
2019-10-23 17:31:59.122 [Thread-36] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@558e97e1, lastConnTime=Wed Oct 23 17:29:48 CST 2019, lastActiveTime=Wed Oct 23 17:29:47 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@6fa04c63)
2019-10-23 17:31:59.126 [WebSocketConnectReadThread-38] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:31:59.126 [WebSocketConnectReadThread-34] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:31:59.139 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:31:59.139 [WebSocketConnectReadThread-42] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:31:59.139 [WebSocketConnectReadThread-50] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:31:59.144 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:31:59.196 [WebSocketConnectReadThread-90] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=true,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:31:59.224 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 17:31:59.229 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 17:33:47.562 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 97007 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:33:47.570 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:33:48.274 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:33:51.324 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:33:51.326 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:33:51.561 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:33:52.177 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 17:33:52.349 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 17:33:52.352 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:52.377 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:33:52.883 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:33:53.385 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:33:53.619 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:53.888 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:53.889 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:33:53.905 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:54.392 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:54.393 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:33:54.398 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:54.897 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:54.897 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:33:54.904 [WebSocketConnectReadThread-55] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:55.402 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:55.403 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:33:55.410 [WebSocketConnectReadThread-59] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 17:33:55.908 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 17:33:55.910 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@1d5d5621
2019-10-23 17:33:58.435 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 17:33:58.457 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 17:33:58.527 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:33:58.629 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 12.52 seconds (JVM running for 15.293)
2019-10-23 17:34:19.836 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 97026 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 17:34:19.852 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 17:34:21.878 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final
2019-10-23 17:34:25.383 [main] INFO  org.apache.catalina.core.StandardService - Starting service Tomcat
2019-10-23 17:34:25.392 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.14
2019-10-23 17:34:25.671 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 17:34:26.781 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:34:27.051 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 17:34:27.111 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 17:34:30.521 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 17:34:30.550 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 17:34:30.682 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 17:34:30.784 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 13.088 seconds (JVM running for 15.427)
2019-10-23 17:34:41.308 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 17:34:42.103 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 17:34:42.327 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 17:34:42.338 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 17:34:42.342 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 17:34:42.346 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 17:34:42.346 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 17:34:42.347 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 17:34:42.347 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 17:34:42.348 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 17:34:42.348 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 17:34:42.349 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 17:34:42.905 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 17:34:42.905 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 17:34:42.905 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 17:34:42.910 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 17:34:42.911 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 17:34:42.911 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 17:34:42.912 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 17:34:42.913 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 17:34:42.916 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 17:34:42.915 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 17:34:42.918 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 17:34:42.921 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 17:36:41.387 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@6c86fb58, lastConnTime=Wed Oct 23 17:33:53 CST 2019, lastActiveTime=Wed Oct 23 17:34:42 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@624118b8)
2019-10-23 17:36:41.408 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@60078b20, lastConnTime=Wed Oct 23 17:33:54 CST 2019, lastActiveTime=Wed Oct 23 17:34:42 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5bbea762)
2019-10-23 17:36:41.410 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@1b7ce100, lastConnTime=Wed Oct 23 17:33:54 CST 2019, lastActiveTime=Wed Oct 23 17:34:42 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@471d522e)
2019-10-23 17:36:41.414 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@1b9f8f66, lastConnTime=Wed Oct 23 17:33:55 CST 2019, lastActiveTime=Wed Oct 23 17:33:54 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@3534aec0)
2019-10-23 17:36:41.415 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@49bc2d87, lastConnTime=Wed Oct 23 17:33:55 CST 2019, lastActiveTime=Wed Oct 23 17:33:55 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@649d8abc)
2019-10-23 17:36:41.434 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:36:41.440 [WebSocketConnectReadThread-55] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:36:41.440 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:36:41.441 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:36:41.446 [WebSocketConnectReadThread-59] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:36:41.458 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 17:36:41.474 [WebSocketConnectReadThread-101] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 17:36:41.543 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 17:36:41.550 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 19:04:13.791 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 99423 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:04:13.799 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:04:17.149 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 19:04:17.167 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:04:17.167 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:04:17.184 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:04:17.339 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:04:17.580 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 19:04:17.605 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 19:04:17.607 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:17.625 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:04:18.058 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:18.129 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:18.130 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:04:18.137 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:18.633 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:18.633 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:04:18.645 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:19.136 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:19.137 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:04:19.148 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:19.642 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:19.643 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:04:19.658 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:04:20.146 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 19:04:20.148 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@11b455e5
2019-10-23 19:04:21.421 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 19:04:21.458 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:04:21.502 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 8.956 seconds (JVM running for 11.743)
2019-10-23 19:04:46.914 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 99447 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:04:46.975 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:04:51.788 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 19:04:51.879 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:04:51.880 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:04:51.910 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:04:52.147 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:04:52.708 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:04:52.877 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 19:04:53.132 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 19:04:54.760 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 19:04:54.829 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:04:54.869 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 10.842 seconds (JVM running for 13.066)
2019-10-23 19:05:28.736 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:05:29.537 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 19:05:29.978 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:05:29.985 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:05:29.988 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:05:29.999 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:05:30.004 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:05:30.008 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:05:30.009 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:05:30.010 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:05:30.010 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:05:30.010 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:05:30.620 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:05:30.621 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:05:30.622 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:05:30.626 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:05:30.629 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:05:30.631 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:05:30.644 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:05:30.645 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:05:30.647 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:05:30.649 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:05:30.657 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:09:22.565 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@69b05caf, lastConnTime=Wed Oct 23 19:04:18 CST 2019, lastActiveTime=Wed Oct 23 19:05:30 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@2cb2dffd)
2019-10-23 19:09:22.579 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@6d6ebd31, lastConnTime=Wed Oct 23 19:04:18 CST 2019, lastActiveTime=Wed Oct 23 19:05:30 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@48d3989e)
2019-10-23 19:09:22.582 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:09:22.585 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:09:22.583 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@724b4412, lastConnTime=Wed Oct 23 19:04:19 CST 2019, lastActiveTime=Wed Oct 23 19:05:30 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@179122d4)
2019-10-23 19:09:22.587 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@f0e8222, lastConnTime=Wed Oct 23 19:04:19 CST 2019, lastActiveTime=Wed Oct 23 19:04:19 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5bcdec35)
2019-10-23 19:09:22.588 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@730e588a, lastConnTime=Wed Oct 23 19:04:20 CST 2019, lastActiveTime=Wed Oct 23 19:04:19 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@6d9743bd)
2019-10-23 19:09:22.590 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:09:22.595 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:09:22.595 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:09:22.595 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:09:22.648 [WebSocketConnectReadThread-93] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:09:22.680 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 19:09:22.696 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 19:23:47.204 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 190 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:23:47.227 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:23:49.924 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 19:23:49.938 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:23:49.938 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:23:49.947 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:23:50.066 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:23:50.335 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 19:23:50.359 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 19:23:50.361 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:50.383 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:23:50.647 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:50.886 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:50.886 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:23:50.890 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:51.396 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:51.397 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:23:51.406 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:51.901 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:51.901 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:23:51.905 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:52.402 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:52.403 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:23:52.406 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:23:52.907 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 19:23:52.908 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@2f61d591
2019-10-23 19:23:53.948 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 19:23:53.986 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:23:54.020 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 8.072 seconds (JVM running for 10.032)
2019-10-23 19:24:06.720 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 206 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:24:06.739 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:24:12.724 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 19:24:12.754 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:24:12.754 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:24:12.825 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:24:13.124 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:24:13.797 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:24:14.051 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 19:24:14.319 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 19:24:15.775 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 19:24:15.887 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:24:15.981 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 11.391 seconds (JVM running for 13.235)
2019-10-23 19:24:36.887 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:24:37.640 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 19:24:37.945 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:24:37.983 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:24:37.997 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:24:38.018 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:24:38.021 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:24:38.023 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:24:38.044 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:24:38.044 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:24:38.045 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:24:38.052 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:24:38.651 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:24:38.651 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:24:38.651 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:24:38.665 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:24:38.668 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:24:38.668 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:24:38.669 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:24:38.675 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:24:38.677 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:24:38.678 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:24:38.700 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:24:38.676 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:24:38.738 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:24:38.738 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:25:26.582 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@7d72e58b, lastConnTime=Wed Oct 23 19:23:50 CST 2019, lastActiveTime=Wed Oct 23 19:24:38 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@38706441)
2019-10-23 19:25:26.598 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@585f9b0e, lastConnTime=Wed Oct 23 19:23:51 CST 2019, lastActiveTime=Wed Oct 23 19:24:38 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@35db313f)
2019-10-23 19:25:26.598 [WebSocketConnectReadThread-39] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:25:26.599 [WebSocketConnectReadThread-43] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:25:26.603 [WebSocketConnectReadThread-51] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:25:26.605 [WebSocketConnectReadThread-35] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:25:26.603 [WebSocketConnectReadThread-47] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:25:26.601 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@2e98ac84, lastConnTime=Wed Oct 23 19:23:51 CST 2019, lastActiveTime=Wed Oct 23 19:24:38 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@78b24403)
2019-10-23 19:25:26.608 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@5c1127f0, lastConnTime=Wed Oct 23 19:23:52 CST 2019, lastActiveTime=Wed Oct 23 19:23:51 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@30afb784)
2019-10-23 19:25:26.608 [Thread-37] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@5b38d199, lastConnTime=Wed Oct 23 19:23:52 CST 2019, lastActiveTime=Wed Oct 23 19:23:52 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@314004a1)
2019-10-23 19:25:26.620 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:25:26.646 [WebSocketConnectReadThread-83] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:25:26.726 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 19:25:26.739 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 19:29:09.270 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 421 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:29:09.277 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:29:12.969 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 19:29:13.005 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:29:13.005 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:29:13.015 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:29:13.246 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:29:13.852 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 19:29:13.912 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 19:29:13.914 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:13.945 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:29:14.446 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:29:14.491 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:14.950 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:14.951 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:29:14.957 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:15.454 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:15.456 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:29:15.485 [WebSocketConnectReadThread-49] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:15.957 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:15.958 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:29:15.973 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:16.462 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:16.464 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:29:16.483 [WebSocketConnectReadThread-57] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:29:16.969 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 19:29:16.972 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@46d63dbb
2019-10-23 19:29:18.456 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 428 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:29:18.474 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:29:20.624 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 19:29:20.702 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:29:20.777 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 12.833 seconds (JVM running for 16.566)
2019-10-23 19:29:24.059 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 19:29:24.085 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:29:24.085 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:29:24.115 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:29:24.385 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:29:25.031 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:29:25.234 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 19:29:25.241 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 19:29:26.774 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 19:29:26.842 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:29:26.886 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 10.853 seconds (JVM running for 13.43)
2019-10-23 19:29:40.429 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:29:41.187 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 19:29:41.964 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:29:41.974 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:29:41.976 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:29:41.977 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:29:41.980 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:29:41.982 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:29:41.983 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:29:41.983 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:29:41.993 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:29:41.994 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:29:42.386 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:29:42.386 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:29:42.386 [WebSocketConnectReadThread-49] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:29:42.391 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:29:42.392 [WebSocketConnectReadThread-49] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:29:42.393 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:29:42.394 [WebSocketConnectReadThread-49] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:29:42.395 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:29:42.401 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:29:42.403 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:29:42.404 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:29:42.407 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:29:42.408 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:30:10.371 [WebSocketConnectReadThread-49] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:30:10.371 [WebSocketConnectReadThread-57] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:30:10.372 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:30:10.371 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:30:10.371 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:30:10.378 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:30:10.399 [WebSocketConnectReadThread-99] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:30:10.410 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@2a0ddf16, lastConnTime=Wed Oct 23 19:29:14 CST 2019, lastActiveTime=Wed Oct 23 19:29:41 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@6f0f4433)
2019-10-23 19:30:10.411 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@62d48b30, lastConnTime=Wed Oct 23 19:29:15 CST 2019, lastActiveTime=Wed Oct 23 19:29:41 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5eaacb6c)
2019-10-23 19:30:10.411 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@1a9b5ac0, lastConnTime=Wed Oct 23 19:29:15 CST 2019, lastActiveTime=Wed Oct 23 19:29:41 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@f20bb7c)
2019-10-23 19:30:10.412 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@496b3ca3, lastConnTime=Wed Oct 23 19:29:16 CST 2019, lastActiveTime=Wed Oct 23 19:29:15 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@41927f49)
2019-10-23 19:30:10.412 [Thread-47] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@19f70e1, lastConnTime=Wed Oct 23 19:29:16 CST 2019, lastActiveTime=Wed Oct 23 19:29:16 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@b6ec0f5)
2019-10-23 19:30:10.490 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 19:30:10.496 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 19:42:47.962 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 898 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:42:47.968 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:42:50.883 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 19:42:50.897 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:42:50.898 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:42:50.908 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:42:51.024 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:42:51.261 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 19:42:51.286 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 19:42:51.287 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:51.311 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:42:51.670 [WebSocketConnectReadThread-37] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:51.814 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:51.815 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:42:51.821 [WebSocketConnectReadThread-41] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:52.322 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:52.323 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:42:52.332 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:52.826 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:52.827 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:42:52.836 [WebSocketConnectReadThread-49] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:53.332 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:53.332 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:42:53.341 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:42:53.836 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 19:42:53.849 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@3e17a0a1
2019-10-23 19:42:55.154 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 19:42:55.216 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:42:55.288 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 8.753 seconds (JVM running for 11.607)
2019-10-23 19:43:05.447 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 908 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:43:05.513 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:43:10.676 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 19:43:10.704 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:43:10.704 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:43:10.727 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:43:10.939 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:43:11.489 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:43:11.595 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 19:43:11.869 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 19:43:13.565 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 19:43:13.618 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:43:13.664 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 10.468 seconds (JVM running for 12.67)
2019-10-23 19:43:24.633 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:43:25.185 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 19:43:25.360 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:43:25.386 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:43:25.411 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:43:25.417 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:43:25.419 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:43:25.420 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:43:25.426 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:43:25.427 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:43:25.427 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:43:25.428 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:43:25.596 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:43:25.596 [WebSocketConnectReadThread-41] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:43:25.603 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:43:25.603 [WebSocketConnectReadThread-41] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:43:25.604 [WebSocketConnectReadThread-41] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:43:25.618 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:43:25.622 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:43:25.651 [WebSocketConnectReadThread-37] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:43:25.652 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:43:25.654 [WebSocketConnectReadThread-37] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:43:25.655 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:43:25.658 [WebSocketConnectReadThread-37] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:43:25.659 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:43:25.663 [WebSocketConnectReadThread-37] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:43:25.664 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:43:46.738 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:43:46.738 [WebSocketConnectReadThread-37] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:43:46.738 [WebSocketConnectReadThread-49] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:43:46.737 [WebSocketConnectReadThread-45] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:43:46.737 [WebSocketConnectReadThread-41] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:43:46.753 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:43:46.797 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@5dd3306d, lastConnTime=Wed Oct 23 19:42:51 CST 2019, lastActiveTime=Wed Oct 23 19:43:25 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@18d1b5b3)
2019-10-23 19:43:46.798 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@15aff607, lastConnTime=Wed Oct 23 19:42:52 CST 2019, lastActiveTime=Wed Oct 23 19:43:25 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@29830bc5)
2019-10-23 19:43:46.799 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@6d1716c0, lastConnTime=Wed Oct 23 19:42:52 CST 2019, lastActiveTime=Wed Oct 23 19:43:25 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@78fe4afc)
2019-10-23 19:43:46.800 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@120b842a, lastConnTime=Wed Oct 23 19:42:53 CST 2019, lastActiveTime=Wed Oct 23 19:42:52 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@2367788d)
2019-10-23 19:43:46.800 [Thread-39] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@7613db37, lastConnTime=Wed Oct 23 19:42:53 CST 2019, lastActiveTime=Wed Oct 23 19:42:53 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@7cb0d6a3)
2019-10-23 19:43:46.819 [WebSocketConnectReadThread-92] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:43:46.883 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 19:43:46.892 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 19:44:17.112 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 952 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:44:17.120 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:44:19.700 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 19:44:19.721 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:44:19.722 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:44:19.729 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:44:19.839 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:44:20.120 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 19:44:20.143 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 19:44:20.144 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:20.158 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:44:20.399 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:20.660 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:20.661 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:44:20.666 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:21.165 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:21.165 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:44:21.170 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:21.666 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:21.667 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:44:21.683 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:22.168 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:22.169 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:44:22.190 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:44:22.671 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 19:44:22.677 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@23706db8
2019-10-23 19:44:25.734 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 19:44:25.805 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:44:25.868 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 10.276 seconds (JVM running for 12.711)
2019-10-23 19:44:45.565 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 968 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:44:45.573 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:44:51.281 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 19:44:51.333 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:44:51.334 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:44:51.375 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:44:51.637 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:44:52.324 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:44:52.576 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 19:44:52.822 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 19:44:55.276 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 19:44:55.381 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:44:55.427 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 11.959 seconds (JVM running for 15.038)
2019-10-23 19:45:04.777 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:45:05.928 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 19:45:06.540 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:45:06.557 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:45:06.558 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:45:06.559 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:45:06.559 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:45:06.561 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:45:06.562 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:45:06.563 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:45:06.564 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:45:06.566 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:45:06.855 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:45:06.855 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:45:06.861 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:45:06.862 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:45:06.870 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:45:06.871 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:45:06.873 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:45:06.874 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:45:06.876 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:45:06.883 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:45:06.884 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:45:06.884 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:45:06.885 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:45:06.885 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:45:06.886 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:45:23.413 [Thread-42] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@71ec2c97, lastConnTime=Wed Oct 23 19:44:20 CST 2019, lastActiveTime=Wed Oct 23 19:45:06 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@34eeacce)
2019-10-23 19:45:23.417 [Thread-42] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@e0cfcea, lastConnTime=Wed Oct 23 19:44:21 CST 2019, lastActiveTime=Wed Oct 23 19:45:06 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@508febf1)
2019-10-23 19:45:23.418 [Thread-42] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@2d7ceb1, lastConnTime=Wed Oct 23 19:44:21 CST 2019, lastActiveTime=Wed Oct 23 19:45:06 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@1fab6c9a)
2019-10-23 19:45:23.418 [Thread-42] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@76a93829, lastConnTime=Wed Oct 23 19:44:22 CST 2019, lastActiveTime=Wed Oct 23 19:44:21 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5956856e)
2019-10-23 19:45:23.418 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1001,s=The web application is stopping,b=true,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:45:23.418 [Thread-42] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@65486ab3, lastConnTime=Wed Oct 23 19:44:22 CST 2019, lastActiveTime=Wed Oct 23 19:44:22 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@2143053c)
2019-10-23 19:45:23.432 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:45:23.435 [WebSocketConnectReadThread-36] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:45:23.435 [WebSocketConnectReadThread-40] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:45:23.435 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:45:23.444 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:45:23.450 [WebSocketConnectReadThread-95] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=true,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:45:23.508 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 19:45:23.517 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 19:47:46.513 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 1070 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:47:46.541 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:47:51.889 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 19:47:51.937 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:47:51.937 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:47:51.954 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:47:52.197 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:47:52.806 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 19:47:52.857 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 19:47:52.942 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:52.995 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:47:53.262 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 1076 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:47:53.267 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:47:53.455 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:53.497 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:53.499 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:47:53.531 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:54.001 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:54.001 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:47:54.032 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:54.505 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:54.506 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:47:54.524 [WebSocketConnectReadThread-56] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:55.007 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:55.007 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:47:55.020 [WebSocketConnectReadThread-60] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:47:55.509 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 19:47:55.514 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@71d9cb05
2019-10-23 19:47:58.752 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 19:47:58.824 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:47:58.934 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 14.002 seconds (JVM running for 17.456)
2019-10-23 19:47:59.837 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 19:47:59.869 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:47:59.870 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:47:59.939 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:48:00.281 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:48:00.926 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:48:01.039 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 19:48:01.401 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 19:48:03.743 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 19:48:03.946 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:48:03.996 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 12.857 seconds (JVM running for 15.42)
2019-10-23 19:48:15.035 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:48:16.152 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 19:48:16.803 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:48:16.874 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:48:16.891 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:48:16.895 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:48:16.898 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:48:16.906 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:48:16.914 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:48:16.915 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:48:16.978 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:48:17.014 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:48:17.350 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:48:17.350 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:48:17.353 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:48:17.356 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:48:17.356 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:48:17.357 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:48:17.370 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:48:17.372 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:48:17.374 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:48:17.374 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:48:17.376 [push-thread-1] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:48:17.377 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:48:59.996 [Thread-50] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@55f94532, lastConnTime=Wed Oct 23 19:47:53 CST 2019, lastActiveTime=Wed Oct 23 19:48:17 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@10fbd1e9)
2019-10-23 19:49:00.006 [Thread-50] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@25ea89d6, lastConnTime=Wed Oct 23 19:47:54 CST 2019, lastActiveTime=Wed Oct 23 19:48:16 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@749a32d3)
2019-10-23 19:49:00.009 [WebSocketConnectReadThread-44] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:49:00.011 [WebSocketConnectReadThread-48] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:49:00.006 [Thread-50] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@5451d3bc, lastConnTime=Wed Oct 23 19:47:54 CST 2019, lastActiveTime=Wed Oct 23 19:48:17 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5f81a46c)
2019-10-23 19:49:00.012 [Thread-50] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@2e542273, lastConnTime=Wed Oct 23 19:47:55 CST 2019, lastActiveTime=Wed Oct 23 19:47:54 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@b7d91c0)
2019-10-23 19:49:00.012 [Thread-50] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@51eb7f20, lastConnTime=Wed Oct 23 19:47:55 CST 2019, lastActiveTime=Wed Oct 23 19:47:55 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@39b03b5)
2019-10-23 19:49:00.014 [WebSocketConnectReadThread-52] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:49:00.015 [WebSocketConnectReadThread-56] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:49:00.016 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:49:00.017 [WebSocketConnectReadThread-60] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:49:00.059 [WebSocketConnectReadThread-104] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=,b=true,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:49:00.153 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 19:49:00.219 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
2019-10-23 19:49:20.225 [main] INFO  com.socket.push.SocketPushApplication - Starting SocketPushApplication on xuliangdeMacBook-Air.local with PID 1127 (/Users/xuliang/Documents/socket-demo/socket-push/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:49:20.231 [main] INFO  com.socket.push.SocketPushApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:49:26.407 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9947"]
2019-10-23 19:49:26.496 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:49:26.497 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:49:26.518 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:49:27.078 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:49:27.928 [main] INFO  com.socket.client.SocketClientApplication - Starting SocketClientApplication on xuliangdeMacBook-Air.local with PID 1132 (/Users/xuliang/Documents/socket-demo/socket-client/target/classes started by xuliang in /Users/xuliang/Documents/socket-demo)
2019-10-23 19:49:27.950 [main] INFO  com.socket.client.SocketClientApplication - No active profile set, falling back to default profiles: default
2019-10-23 19:49:27.975 [main] INFO  com.socket.server.factory.WsFactory - >>>>>> 刷新连接扫描
2019-10-23 19:49:28.149 [main] INFO  com.socket.server.config.WsContextInit - >>>>>>> 开始初始化共享连接池 corePoolSize：5 个
2019-10-23 19:49:28.150 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:28.249 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:49:28.754 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:49:28.921 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:29.258 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:29.259 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:49:29.276 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:29.761 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:29.762 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:49:29.797 [WebSocketConnectReadThread-57] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:30.265 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:30.266 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:49:30.292 [WebSocketConnectReadThread-61] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:30.769 [main] INFO  com.socket.server.factory.WsHolder - >>>>> 开始创建ws连接, url:ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:30.769 [main] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:49:30.806 [WebSocketConnectReadThread-65] INFO  com.socket.server.factory.WsHolder - >>>>>> ws连接建立成功！url：ws://127.0.0.1:9945/webSocketProvideServer
2019-10-23 19:49:31.273 [main] INFO  com.socket.server.config.WsContextInit - >>>>>> 共享连接池初始化成功！
2019-10-23 19:49:31.276 [main] INFO  com.socket.server.config.WsContextInit - 添加MM-push处理器:com.socket.push.handler.MyMMPushHandler@1d540566
2019-10-23 19:49:35.738 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9947"]
2019-10-23 19:49:35.862 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:49:36.036 [main] INFO  com.socket.push.SocketPushApplication - Started SocketPushApplication in 17.458 seconds (JVM running for 20.999)
2019-10-23 19:49:36.563 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9948"]
2019-10-23 19:49:36.734 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-10-23 19:49:36.734 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.32
2019-10-23 19:49:36.829 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/xuliang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-10-23 19:49:37.495 [localhost-startStop-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-10-23 19:49:38.540 [http-nio-9947-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:49:38.898 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 连接成功
2019-10-23 19:49:39.180 [http-nio-9947-exec-1] INFO  com.socket.push.config.WebSocketServer - 建立新的连接:clientId=0
2019-10-23 19:49:41.699 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9948"]
2019-10-23 19:49:41.799 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-10-23 19:49:41.888 [main] INFO  com.socket.client.SocketClientApplication - Started SocketClientApplication in 16.703 seconds (JVM running for 19.652)
2019-10-23 19:49:52.635 [http-nio-9948-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-10-23 19:49:53.193 [http-nio-9947-exec-2] INFO  com.socket.push.config.WebSocketServer - 收到消息:msg={"stockIds":",0,1,2,3,4,5,6,7,8,9","event":0},clientId=0
2019-10-23 19:49:53.523 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:49:53.553 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:49:53.562 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:49:53.563 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:49:53.569 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:49:53.570 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:49:53.571 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:49:53.571 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:49:53.585 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:49:53.585 [http-nio-9947-exec-2] INFO  com.socket.server.manager.MsgManager - >>>>> 发送消息 msg : {"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:49:53.941 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:49:53.941 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:49:53.941 [WebSocketConnectReadThread-57] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:49:53.947 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:49:53.947 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:49:53.948 [push-thread-1] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:53.948 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:49:53.948 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:49:53.950 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:49:53.951 [WebSocketConnectReadThread-57] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:49:53.954 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":123,"EptFlag":0,"MsgBody":"0","bussType":10001}
2019-10-23 19:49:53.956 [WebSocketConnectReadThread-57] INFO  com.socket.server.factory.WsHolder - >>>>> ws收到消息, msg:{"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:49:54.052 [push-thread-5] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:54.053 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":127,"EptFlag":0,"MsgBody":"4","bussType":10001}
2019-10-23 19:49:54.054 [push-thread-3] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:54.055 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":126,"EptFlag":0,"MsgBody":"3","bussType":10001}
2019-10-23 19:49:54.155 [push-thread-8] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:54.156 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":132,"EptFlag":0,"MsgBody":"9","bussType":10001}
2019-10-23 19:49:54.156 [push-thread-6] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:54.157 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":129,"EptFlag":0,"MsgBody":"6","bussType":10001}
2019-10-23 19:49:54.162 [push-thread-1] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:54.163 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":128,"EptFlag":0,"MsgBody":"5","bussType":10001}
2019-10-23 19:49:54.364 [push-thread-7] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:54.365 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":130,"EptFlag":0,"MsgBody":"7","bussType":10001}
2019-10-23 19:49:54.468 [push-thread-4] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:54.469 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":125,"EptFlag":0,"MsgBody":"2","bussType":10001}
2019-10-23 19:49:54.572 [push-thread-2] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:54.572 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":124,"EptFlag":0,"MsgBody":"1","bussType":10001}
2019-10-23 19:49:54.681 [push-thread-5] INFO  com.socket.push.core.PushManagerBiz - >>>>> 进入抢占式
2019-10-23 19:49:54.682 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 收到消息={"SeqNum":131,"EptFlag":0,"MsgBody":"8","bussType":10001}
2019-10-23 19:50:17.364 [Thread-57] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@4dcf2350, lastConnTime=Wed Oct 23 19:49:29 CST 2019, lastActiveTime=Wed Oct 23 19:49:53 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@8cdb48d)
2019-10-23 19:50:17.369 [Thread-57] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@41a5478b, lastConnTime=Wed Oct 23 19:49:29 CST 2019, lastActiveTime=Wed Oct 23 19:49:53 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@21a7928)
2019-10-23 19:50:17.369 [Thread-57] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@c8466fd, lastConnTime=Wed Oct 23 19:49:30 CST 2019, lastActiveTime=Wed Oct 23 19:49:53 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@5d6ca832)
2019-10-23 19:50:17.370 [Thread-57] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@369e250b, lastConnTime=Wed Oct 23 19:49:30 CST 2019, lastActiveTime=Wed Oct 23 19:49:30 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@671cc9c9)
2019-10-23 19:50:17.372 [WebSocketConnectReadThread-46] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:50:17.373 [WebSocketConnectReadThread-57] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=2, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:50:17.372 [Thread-57] INFO  com.socket.server.factory.WsFactory - 关闭连接=WsHolder(wsContext=WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer), webSocketClient=com.socket.server.factory.WsHolder$1@4880f859, lastConnTime=Wed Oct 23 19:49:31 CST 2019, lastActiveTime=Wed Oct 23 19:49:30 CST 2019, wsCallBack=com.socket.server.factory.WsFactory$2@7095e443)
2019-10-23 19:50:17.372 [WebSocketConnectReadThread-53] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=1, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:50:17.380 [WebSocketConnectReadThread-61] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=3, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:50:17.384 [WebSocketConnectReadThread-65] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=1000,s=,b=false,WsContext(id=4, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:50:17.433 [refresh-connect-thread] INFO  com.socket.server.factory.WsHolder - >>>>>> websocket  等待连接中.........
2019-10-23 19:50:17.440 [WebSocketConnectReadThread-111] INFO  com.socket.server.factory.WsHolder - 链接已关闭,i=-1,s=Connection refused (Connection refused),b=false,WsContext(id=0, url=ws://127.0.0.1:9945/webSocketProvideServer)
2019-10-23 19:50:17.458 [localhost-startStop-2] INFO  com.socket.push.config.WebSocketServer - 连接关闭:closeReason=CloseReason: code [1001], reason [The web application is stopping],sessionId=0
2019-10-23 19:50:17.461 [WebSocketConnectReadThread-19] INFO  com.socket.client.config.WebSocketConfig - [websocket] 退出连接
